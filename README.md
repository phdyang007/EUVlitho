# EUVlitho
EUVlitho includes the following two program sets.
1. EUV lithography simulator based on the 3D waveguide model
2. CNN fitting to M3D parameters
## Requirements
EUV lithography simulator depends on MKL, Eigen, CUDA and MAGMA.  
CNN fitting depends on Pytorch Ligtning.
## 1. EUV lithography simulator
Electromagentic (EM) simulation of the diffraction amplitude from an EUV mask based on the 3D waveguide model.  
For the theoretical backgrond of the simulation please read the following paper.
- H. Tanabe, A. Junguji and A. Takahashi, "Weakly guiding approximation of a three dimentional waveguide model for extreme ultraviolet lithography simulation," JOSA A 41(2024)1491.
- 
Main program is emint/intensity.cpp. Please modify the makefile (makeint).  
The input is the mask pattern (mask.csv) and the output is the image intensity (emint.csv).  
The optical and absorber settings are written in intensity.cpp. The ML setting is written in ampS in include/header.h which follows the paper by N. Davydova et al. (SPIE 88860A). Usually you do not need to modify this subroutine.  
The mask pattern can be generated by mask/mask.cpp. Please generate your mask pattern by yourself.  
Below is an example of the input mask pattern and the output image intensity. We use Graph-R to plot the image intensity but you can use any plottng software.

![em](https://github.com/user-attachments/assets/06b9b1c0-39a7-44e9-afda-b7f6678262e8)

## 2. CNN fitting to M3D parameters
For the explanation of M3D parameters and their CNN fitting please read the following papers.
- H. Tanabe, S. Sato, and A. Takahashi, “Fast EUV lithography simulation using convolutional neural network,” JM3 20(2021)041202.
- H. Tanabe and A. Takahashi, “Data augmentation in extreme ultraviolet lithography simulation using convolutional neural network,” JM3 21(2022)041602.
- H. Tanabe, A. Jinguji, and A. Takahashi, “Evaluation of convolutional neural network for fast extreme violet lithography simulation using 3nm node mask patterns,” JM3 22(2023)024201.
- H. Tanabe, A. Jinguji and A. Takahashi, “Accelerating extreme ultraviolet lithography simulation with weakly guiding approximation and source position dependent transmission cross coefficient formula,” JM3 23(2024)014201.

### 2.1. Data preparation
The first step is the data preparation for the training and validation. 




![diff](https://github.com/user-attachments/assets/0c7ca5ab-6309-4368-beb9-4ce08d694f0c)


